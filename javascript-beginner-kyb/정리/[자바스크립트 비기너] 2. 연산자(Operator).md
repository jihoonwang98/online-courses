# [자바스크립트 비기너] 2. 연산자(Operator)

> [인프런](https://inf.run/riau)



## 1. 연산자, 표현식

### 연산자

- 연산의 사전적 의미
  - 규칙에 따라 계산하여 값을 구함
- 연산자 형태
  - `+`, `-`, `*`, `/`, `%`
  - `>`, `>=`, `<`, `<=`
  - `==`, `!=`, `===`, `!==`
  - `,`, `typeof`, `delete`, `void`
  - `instanceof`, `in`, `new` 등

### 표현식

- 표현식(Expression) 형태
  - `1 + 2` 
  - `var total = 1 + 2;`
  - `var value = total / (2 + 3);`
- "표현식을 평가"한다고 한다.
- 표현식을 평가하면 결과가 반환되며, 이를 평가 결과라고 한다.





## 2. 할당 연산자, 해석/실행 순서

### 할당 연산자

- 단일 할당 연산자
  - `=` 하나만 사용
  - `var result = 1 + 2;`
- 복합 할당 연산자
  - `=` 앞에 연산자 작성
  - `+=`, `-=`, `*=`, `/=`, `%=`
  - `<<=`, `>>=`
  - `>>>=`, `&=`, `^=`, `|=` 
- 먼저 `=` 앞을 연산한 후, 할당
  - `var point = 7;`
  - `point += 3;`



### 해석, 실행 순서

- 해석이란?
  - JS 코드를 기계어로 바꾸는 것. Compile
  - "엔진이 해석(컴파일)하고 실행한다"라고 한다.
- 실행 순서
  - `var result = 1 + 2 + 6;`
  - `=` 왼쪽의 표현식 평가 (`var result`)
  - `=` 오른쪽의 표현식 평가 
    - 왼쪽에서 오른쪽으로 평가 (`1 + 2`, `3 + 6`)
  - `=` 오른쪽 표현식의 평가 결과를 왼쪽 표현식 평가 결과에 할당



## 3. 산술 연산자 (+ 연산자)

### + 연산자

- `+` 양쪽의 표현식을 평가

  - 평가 결과를 더함

    ```javascript
    var value = 1 + 2 + 4;
    console.log(value);
    ```

  - 피연산자가 Number가 아닌 경우 (4장 숫자로 변환 참조)

    ```javascript
    console.log({ name: "name" } + 1);  // [출력] [object Object]1
    console.log("string" + 1);  // [출력] string1
    console.log(true + 1);  // [출력] 2
    console.log(false + 1);  // [출력] 1
    console.log(undefined + 1);  // [출력] NaN
    console.log(null + 1);  // [출력] 1
    
    console.log(typeof ({ name: "name" } + 1)); // string
    console.log(typeof ("string" + 1));  // string
    console.log(typeof (true + 1));  // number
    console.log(typeof (false + 1));  // number
    console.log(typeof (undefined + 1));  // number
    console.log(typeof (null + 1));  // number
    ```



## 4. 숫자로 변환

### 숫자로 변환

- 연산하기 전에 우선 숫자로 변환한다.

  | 값 타입   | 변환 값                                             |
  | --------- | --------------------------------------------------- |
  | Undefined | NaN                                                 |
  | Null      | +0                                                  |
  | Boolean   | true: 1, false: 0                                   |
  | Number    | 변환 전/후 같음                                     |
  | String    | 값이 숫자이면 숫자로 연산<br />단, 더하기(+)는 연결 |

- 예제1

  ```javascript
  var value;
  console.log(10 + value);
  ```

  - `10 + undefined`가 `10 + NaN`로 바뀌어서 연산됨.

- 예제2

  ```javascript
  console.log(10 + null);  // 10
  console.log(10 + true);  // 11
  console.log(10 + false);  // 10
  ```

- 예제3

  ```javascript
  console.log(10 + "123");  // "10123"
  console.log(123 - "23");  // 100
  ```

  - 더하기는 값이 숫자라도 타입이 String이면 문자열로 연결하지만
  - `-`, `*`, `/`는 숫자로 변환하여 연산한다.
  - `typeof` 연산자로 `Number` 타입 여부 체크







## 5. 산술 연산자(-, *, /, %)

### `-` 연산자

- 왼쪽 표현식 평가 결과에서 오른쪽 표현식 평가 결과를 뺍니다.

- String 타입이지만, 값이 숫자이면 Number 타입으로 변환하여 계산

  ```javascript
  console.log("123" - "23"); // 100
  console.log("135" - 2); // 133
  ```



### `*` 연산자

- 왼쪽 표현식 평가 결과와 오른쪽 표현식 평가 결과를 곱합니다.

- 숫자 값으로 변환할 수 있으면 변환하여 곱합니다.

- NaN 반환

  - 양쪽의 평가 결과가 하나라도 숫자가 아닐 때

    ```javascript
    console.log(10 * "20");  // 200
    console.log(10 * true);  // 10
    console.log(10 * false); // 0
    console.log(10 * null);  // 0
    console.log(10 * "A");   // NaN
    ```

- 소수 값이 생기는 경우 처리

  ```javascript
  console.log(2.3 * 3);  // 6.8999999999999995
  console.log(2.3 * 10 * 3 / 10);  // 6.9
  ```

  - IEEE 754 부동 소수점 처리 때문에 `2.3 * 3`이 `6.9`가 나오지 않는다.
  - 대응 방법
    - 실수를 정수로 변환하여 값을 구하고 다시 정수를 실수로 변환한다.



### `/` 연산자

- 왼쪽 표현식 평가 결과를 오른쪽 표현식 평가 결과로 나눈다.
- NaN 반환
  - 양쪽의 평가 결과가 하나라도 숫자가 아닐 때
  - <u>분모, 분자 모두 0일 때</u>
- 분모, 분자가 0일 때
  - 분모가 0이면 `Infinity` 반환
  - 분자가 0이면 0 반환

```javascript 
console.log(0 / 0);   // NaN
console.log(32 / 0);   // Infinity
console.log(-32 / 0);   // -Infinity
console.log(0 / 32);   // 0
```



### `%` 연산자

- 왼쪽 표현식 평가 결과를 오른쪽 표현식 평가 결과로 나누어 나머지를 구합니다.

- `3 % 2`의 나머지는 1

  ```javascript
  console.log(5 % 2.5);  // 0
  console.log(5 % 2.3);  // 0.40000000000000036
  console.log((5 * 10 - (2 * 2.3 * 10)) / 10);  // 0.4
  ```

  

## 6. 단항 연산자

### 단항 + 연산자

- 형태: `+value`

- 값을 Number 타입으로 변환

  ```js
  var value = "7";
  log(typeof value);  // string
  log(typeof +value);  // number
  log(typeof Number(value)); // number
  ```

  

### 단항 - 연산자

- 형태: `-value`

- 값의 부호를 바꿈

- 연산할 때만 바꿈

  - 원래 값은 바뀌지 않음

  ```js
  var value = 7;
  log(-value);  // -7
  log(8 + -value);  // 1
  log(value);  // 7
  ```



## 7. 후치, 전치, 논리 NOT 연산자

### 후치 ++ 연산자

- 형태: `value++`

- 값을 자동으로 1 증가시킴

  - 문장을 수행한 후에 1 증가
  - 즉, 세미콜론(;) 다음에 증가

  ```js
  var one = 1;
  var value = one++ + 3;
  log(value);  // 4
  log(one);  // 2
  ```

  

### 전치 ++ 연산자

- 형태: `++value`

- 값을 자동으로 1 증가시킴

  - 문장 안에서 1 증가
  - 표현식을 평가하기 전에 1 증가
  - 표현식에서 증가된 값을 사용

  ```js
  var one = 1;
  var value = ++one + 3;
  log(value); // 5
  ```



### 후치,전치 -- 연산자

- ++ 연산자와 같은 원리

 

### ! 연산자

- 논리 NOT 연산자

  - 형태: `!value`

- 표현식 평가 결과를 `true`, `false`로 변환한 후 

  - `true` -> `false`로, `false` -> `true`로 반환

- 원래 값은 바뀌지 않으며 사용할 때만 변환

  ```js
  var value = true;
  log(!value);  // false
  log(!!"A");  // true
  ```

  



## 8. 유니코드, UTF

### 유니코드

- Unicode

  - 세계의 모든 문자를 통합하여 코드화
  - 언어, 이모지 등
  - 코드 값을 **코드 포인트**(code point)라고 부름
  - 0000~FFFF, 10000~1FFFF 값에 문자 매핑

- 표기 방법

  - u와 숫자 형태: u0031은 숫자 1
  - JS는 u앞에 역슬래시(\\) 작성

  ```js
  log('\u0031');  // 1
  log('\u0041');  // A
  log('\u1100');  // ㄱ
  log('\uac01');  // 각
  ```

  - 역슬래시(\\)를 문자로 표시하려면 역슬래시 2개 작성

  ```js
  log('\\u0031');  // \u0031
  log('\\u0041');  // \u0041
  ```

  - ES6에서 표기 방법 추가됨



### UTF

- Unicode Transformation Format
  - 유니코드의 코드 포인트를 매핑하는 방법
  - UTF-8, UTF-16, UTF-32로 표기
  - `<meta charset="utf-8">`
  - UTF-8은 8비트로 코드 포인트 매핑
  - 8비트 인코딩(encoding)이라고 부름



## 9. 관계 연산자

### 관계 (Relational) 연산자

- 관계 연산자
  - `<`, `>`, `<=`, `>=` 연산자
  - `instanceof` 연산자
  - `in` 연산자
- `instanceof`, `in` 연산자
  - 사전 설명이 필요하므로 관련된 곳에서 다룹니다.



### `>` 연산자

- 부등호: Greater-than

- 양쪽이 Number 타입일 때,

  - 왼쪽이 오른쪽보다 크면 true 반환, 아니면 false 반환

  ```js
  log((1 + 2) > 1);
  ```

- String 타입 비교

  - 한 쪽이 String 타입이면 false

  ```js
  log(1 > "A");   // 숫자와 문자열을 비교하면, false
  ```

  - 양쪽이 모두 String 타입이면 유니코드 사전 순서로 비교

  ```js
  log(("\u0033" > "\u0032"));  // (true)
  log("A" > "1");   // "A" -> \u0041, "1" -> \u0031 (true)
  log("가" > "다");  // (false)
  ```

  - 문자 하나씩 비교

  ```js
  log("A07" > "A21");  // A == A -> 0 < 2 이므로 (false)
  ```





## 10. 동등, 부등, 일치, 불일치 연산자

### == 연산자

- 동등 연산자

- 왼쪽과 오른쪽 값이 같으면 `true`, 다르면 `false`

- **<u>값 타입은 비교하지 않음</u>**

  ```js
  log(1 == "1");
  ```

  - 값 타입이 다르면, 즉, `"문자 == 숫자"`, `"숫자 == 문자"`일 때, 문자 타입을 숫자 타입으로 변환하여 비교

    

  ```js
  var value;
  log(value == undefined);  // 양변 모두 undefined이므로, true
  ```

  ```js
  var value;
  log(value == null);  // true
  ```

  

### != 연산자

- 부등 연산자



### === 연산자

- 일치 연산자

- 왼쪽과 오른쪽의 **<u>값과 타입이 모두 같으면</u>** true, 값 또는 타입이 다르면 false

  ```js
  log(1 === "1");  // 값은 같지만 타입이 다르므로 false
  ```

  ```js
  var value;
  log(value == null);  // (true)
  log(value === null);  // (false)
  ```



### !== 연산자

- 불일치 연산자



## 11. 콤마, 그룹핑, 논리 연산자

### 콤마 연산자

- 기호: `,` (Comma)
- 콤마로 표현식을 분리
  - `var a = 1, b = 2`
  - 한 번만 `var` 작성



### `()` 연산자

- 그룹핑 연산자
- 소괄호 안의 표현식을 먼저 평가



### 논리 연산자 `||`

- 논리 OR 연산자

- 표현식의 평가 결과가 하나라도 true이면 true, 아니면 false

  ```js
  // true가 되는 변숫값 반환
  var value, zero = 0, two = 2;
  log(value || zero || two);  // 2
  ```

  ```js
  // 모두가 false일 때
  // 마지막까지 비교했을 때, 모두가 false이면 false가 아니라 마지막 변숫값 반환
  var value, zero = 0;
  log(zero || value);  // undefined
  ```

  ```js
  // true이면 비교 종료
  var one = 1;
  log(one === 1 || two === 2);  // true, two === 2 얘는 evaluate 안함
  ```



### 논리 연산자 `&&`

- 논리 AND 연산자

- 표현식의 평가 결과가 모두 true이면 true, 아니면 false

  ```js
  // 모두가 true일 때
  var one = 1, two = 2;
  log(one && two);  // 2
  ```

- 왼쪽 결과가 false이면, 오른쪽은 비교하지 않음

  ```js
  // false가 되는 변숫값 반환
  var one = 1, zero = 0;
  log(one && zero && nine);  // 0
  ```

  - 원래는 nine을 비교하면 nine 변수가 없으므로 에러 발생해야 함.





## 12. 조건 연산자, 연산자 우선순위

### 조건 연산자

- 기호: `exp ? exp1 : exp2`
  - 3항 연산자라고도 함
- exp 위치의 표현식을 먼저 평가
  - true이면 exp1의 결과 반환
  - false이면 exp2의 결과 반환
